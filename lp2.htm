<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Castillo de la Memoria - Regístrate</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 50px auto;
            background: white;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }
        h1 {
            color: #2c3e50;
        }
        .promo-image {
            width: 50%;
            border-radius: 10px;
        }
        .btn {
            display: block;
            width: 100%;
            padding: 10px;
            background: #3498db;
            color: white;
            border: none;
            font-size: 18px;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 15px;
        }
        .btn:hover {
            background: #2980b9;
        }
        .form-group {
            margin: 15px 0;
            text-align: left;
        }
        input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Regístrate en "El Palacio de la Memoria"!</h1>
        <img src="https://crmwinafin.github.io/crmwinafin/imagen_promocional.jpg" alt="Castillo de la Memoria" class="promo-image">
        <p>Descubre técnicas avanzadas para potenciar tu memoria y recordar con facilidad.</p>
        <form name="formulario_12" method="POST" action="gethint.asp" onsubmit="return enviar();">
            <div class="form-group">
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" required>
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
            </div>
            <div class="form-group">
                <label for="telefono">Teléfono:</label>
                <input type="tel" id="telefono" name="telefono">
            </div>
            <button type="submit" class="btn">Inscribirme Ahora</button>
        </form>
    </div>
    <div id="demo" class="test2"></div>
      <script>
	
	var sPaginaURL 	= window.location.search.substring(1);
	var sPagina1	= sPaginaURL;
	var macro_x = '<IMG SRC="http://localhost/cnt.asp?'+sPagina1+'">';
	document.getElementById("demo").innerHTML = macro_x;
	

	function enviar(){
	  	if(document.formulario_12.nombre.value==''){
			alert("Debe ingresar su nombre");
			return false;
	  	}

	  	if(document.formulario_12.email.value=='' && document.formulario_12.fono.value==''){
			alert("Debe ingresar un correo o teléfono para poder contactarnos");
			return false;
	  	}
	  	var macro_d = "@*1" + document.formulario_12.nombre.value;
	  	macro_d = macro_d + "@*2" + document.formulario_12.email.value;		
	  	macro_d = macro_d + "@*3" + document.formulario_12.fono.value;		
	  	macro_d = macro_d + "@*4" + document.formulario_12.empresa.value;		

		macro_d = btoa(macro_d + "@*" + sPaginaURL);

	  	var macro_x = '<IMG SRC="http://localhost/convert.asp?'+macro_d+'">';
	  	document.getElementById("demo").innerHTML = macro_x;

		var paso_tk = traslado_a(document.formulario_12.nombre.value);
		window.location = 'https://crmwinafin.github.io/crmwinafin/ISAPI/marketing/gracias.htm?'+paso_tk; 
		return false;
	}



function traslado_b(c_substr){
  var c_subs  = "";
  var i;
  var letra;
  var palabras =  occurs(",",c_substr);
  for (i=1;i<palabras+2;i++){
    letra = getwordnum(c_substr,i,",");
    c_subs = c_subs + String.fromCharCode(letra);
  }  
  return c_subs;
}

function at(cserch,cserched,ncurrence){
  if (typeof ncurrence === "undefined") {
    ncurrence = 1;
  }
  var cuenta   =  0;
  var posicion = -1;
  while ( cuenta < ncurrence ) {
    cuenta++;
    posicion = cserched.indexOf(cserch,posicion+1);
  }
  return posicion+1;
}

function getwordnum(cString, nIndex,cDelimiter){
  if (typeof cDelimiter === "undefined") {
    cDelimiter = " ";
  }
  var palabra_r = "";
  var ubi_ini = at(cDelimiter,cString,nIndex-1);
  var ubi_fin = at(cDelimiter,cString,nIndex);
  var ocurren = occurs(cDelimiter,cString);
  if (ocurren==0){
    palabra_r  = cString;
  }else{
    if (nIndex==ocurren+1){
      palabra_r  = cString.substring(ubi_ini,cString.length);
    }else{
      palabra_r  = cString.substring(ubi_ini,ubi_fin-1);
    }
  }
  return palabra_r;
}

function occurs(oc_char, oc_char_ed){
	var cuenta = 0;
	var posicion = oc_char_ed.indexOf(oc_char);
	while ( posicion != -1 ) {
	   cuenta++;
	   posicion = oc_char_ed.indexOf(oc_char,posicion+1);
	}
	return cuenta;
}

function traslado_a(c_cadena){
	var i;
	var cadena="";
	var separador = "";
	for (i = 0; i < c_cadena.length; i++) { 
	  separador = ver_fin(i,c_cadena.length);
	  cadena = cadena + c_cadena.charCodeAt(i)+separador;
	}
	return cadena;
}

function ver_fin(i_act,i_fin){
	var v_retorno = ",";
	if (i_act+1==i_fin){
		var v_retorno = "";
	}
	return v_retorno
}
  </script>
</body>
</html>
